## システムの観測
ログ:出来事や詳細を記録（リクエスト内容や処理結果）
トレース:処理の流れと各処理の時間を記録（分散システムでのリクエストの経路）
メトリクス:システムのパフォーマンス（リクエスト数、レスポンス時間、トラフィック量）を定量的に記録

## Serfを用いたディスカバリサービス
#### ● 有能なゼロ値
ゼロ値はその方の機能がすぐに使える状態になっていることが理想
もしゼロ値が有効でない場合、ユーザはコンストラクタを必ず呼ばなければならな
sync.Muteもゼロ値のまま使える設計になっている
参考) [What is the zero value, and why is it useful?](https://dave.cheney.net/2013/01/19/what-is-the-zero-value-and-why-is-it-useful)

- 「消費する」とは
ログを取得して処理すること（新しくレコードを作成する意味ではない）
「取得」ではなく「消費」という言葉が使われるのは、ログストリーミングの文化に基づいている

## 合意形成によるサービス連携
#### ● 有限ステートマシン(FSM)
決められた有限の状態を持ち、特定の入力や条件に応じて状態を遷移するモデル
初めの状態Aから、αという操作を行なったことで、状態Bに遷移する。さらにβという操作を行なったことで、状態Cに遷移するみたいな。
フォロワーはすべて同じFSMを持つ -> 状態の遷移が決まっている -> どのフォロワーも同じ入力に対して同じ結果を出す。

#### ● Bolt
Go用の組み込み型のkey-value-database
MySQLのようなサーバー型のDBとは異なり、アプリ内に組み込まれるためセットアップなどのコストが削減される

#### ● Raftのストレージ
- Stable Store：リーダの投票やRaftのログ情報を保存する永続ストレージ
- Log Store：Raftのログエントリを保存。クラスタがRaftのログを同期する時に使用
- Snapshot Store：ログのスナップショット(過去の履歴を圧縮したもの)を保存

### ●「自分自身を唯一の投票者として設定されたサーバ」の意味　p.135
Raftにおいて、リーダはRaftクラスタの各サーバーが他のサーバーと協力して、リーダ選出プロセスを行い、誰がリーダになるべきかを決める。
最初のクラスタを起動するサーバーは、他の選出するサーバーがいない状態のため、唯一の投票者として自分をリーダー候補として設定する。

### ● Raft
[Raft Understandable Distributed Consensus](https://thesecretlivesofdata.com/raft/)
